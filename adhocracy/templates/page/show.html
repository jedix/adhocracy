<%inherit file="/template.html" />
<%namespace name="components" file="/components.html"/>
<%namespace name="state" file="/poll/state.html"/>

<%def name="title()">${c.page.title}</%def>

<%def name="breadcrumbs()">${h.breadcrumbs(c.text)|n}</%def>

${tiles.page.header(c.page, c.tile, active='view', text=c.text)}

<div class="sidebar">
	%if c.page.has_variants:
	<h3 class="section">${_("Variants")}</h3>
	<ul>
		%for variant in c.page.variants:
			<li>
				<%
				text = c.page.variant_head(variant)
				%>
				<a href="${h.entity_url(text)}">
				%if variant == c.model.Text.HEAD:
					<b>(status quo)</b>
				%else:
					<code>${variant}</code>
				%endif
				</a>
				@ rev <code><a href="/page/diff?left=${c.text.id}&right=${text.id}">#${text.id}</a></code>
				(<a href="${h.entity_url(text, member='history')}">history</a>)
				</li>
		%endfor
	</ul>
	<br/>
	%endif
	<br/>
	${tiles.tag.sidebar(c.page)}
	${tiles.delegation.sidebar(c.page)}
</div>

<div class="mainbar">
	${tiles.text.full(c.text)}
</div>
