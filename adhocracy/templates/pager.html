
<%def name="namedpager(pager)">

	<span class="pager_items">
		${_("%(start)s-%(end)s out of %(total)s") % dict(start=pager.offset+1, end=pager.offset+len(pager.items), total=len(pager._items))}
	</span>
	%if len(pager.sorts.keys()) > 1 and pager.enable_sorts:
		<span class="pager_sorts">
		${_("sort by:")} |
		%for sort, i in zip(pager.sorts.keys(), xrange(1, len(pager.sorts.keys()) + 1)):
			<a class="${'selected' if i == pager.selected_sort else ''}" 
				href="${pager.serialize(sort=i)}">${sort}</a>
			%if i < len(pager.sorts.keys()):
				|
			%endif
		%endfor
		</span>
	%endif
	
	<div class="table_listing">
	%if not len(pager.items):
		<div class="infobox">${_("No entries.")}</div>
	%endif
	%for item in pager.items:
		${pager.itemfunc(item)}
	%endfor
	</div>
	%if pager.enable_pages:
		%if pager.pages > 1:
		<div class="pager">
			<div class="prev_page">
				%if pager.page > 1:
				<a href="${pager.serialize(page=pager.page-1)}">&laquo; ${_("previous")}</a>
				%endif
			</div>
			%for i in xrange(1, pager.pages+1):
				%if i != pager.page:
					<a href="${pager.serialize(page=i)}">${i}</a>  
				%else:
					${i}
				%endif
			%endfor
			<div class="next_page">
				%if pager.page < pager.pages:
				<a href="${pager.serialize(page=pager.page+1)}">${_("next")} &raquo;</a>
				%endif
			</div>
		</div>
		%endif
		%if pager.initial_size < len(pager._items):
		<div class="pager_sorts bottom">
			%for size in range(pager.initial_size, min(len(pager._items)+pager.initial_size/2,(pager.initial_size*5)+1), pager.initial_size/2):
				<a class="${'selected' if size == pager.size else ''}" 
					href="${pager.serialize(size=size)}">${size}</a> |
			%endfor
			${_("entries")}
		</div>
		%endif
	%endif
</%def>


<%def name="facets(pager)">
%for facet in pager.facets:
<div class="facet">
    ${facet.render()}
</div>
%endfor
</%def>

<%def name="facet(facet)">
<h3>${facet.name}</h3>
%if facet.description:
<p>${facet.description}</p>
%endif
<ul>
    %for item in facet.items:
    <li>
        <a class="${'selected' if item['selected'] else ''}"  
           href="${item['url']}">
            ${item['entity'].title} (${item['count']})
        </a>
    </li>
    %endfor
</ul>
<br />
</%def>
