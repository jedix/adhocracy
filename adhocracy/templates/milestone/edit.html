<%inherit file="/template.html" />
<%namespace name="tiles_html" file="/milestone/tiles.html"/>
<%namespace name="components" file="/components.html"/>
<%def name="title()">${_("Edit %s") % c.milestone.title}</%def>

<%def name="breadcrumbs()">
    ${h.milestone.breadcrumbs(c.milestone)|n} &raquo; ${_("Edit")}
</%def>

<%block name="main_content">
<form name="edit_milestone" class="inplace" method="POST"
  action="/milestone/${c.milestone.id}">
    ${h.field_token()|n}
    <input type="hidden" name="_method" value="PUT" />
    
    <div class="mainbar">
        <h3>${_("Milestone title")}</h3>
        <div class="page_title">
            <label for="title" class="armhint">${_("New milestone")}</label>
            <input tabindex="1" class="title armlabel" name="title" value="${c.milestone.title}" />
        </div>

        <h3>${_("Milestone description")}</h3>
        <div class="infobox">
            ${_("Give a brief description of the milestone.")|n}
        </div>
    
        <label for="text" class="armhint">${_("In this milestone we will...")}</label>
        <textarea tabindex="2" class="description armlabel"
          name="text">${c.milestone.text}</textarea>
        ${components.formatting()}
        <br/><br/>
        <label for="time" class="armhint">${_("Date of the milestone")}</label>
        <input name="time" id="time" class="armlabel long" value="${c.milestone.time and c.milestone.time.strftime("%d.%m.%Y") or 'Undefined'}" />
        <span class="hint">${_("Please use the DD.MM.YYYY format.")}</span>
        </div>
    
    <div style="clear:both;"></div>
    
    <div class="mainbar">
        ${components.savebox("/milestone/%s" % c.milestone.id)}
        ${components.form_watch(c.milestone)}
    </div>
</form>
</%block>
